// إعدادات اللعبة الأساسية
let level = 1;
let fuel = 500; // تم تعديل الوقود إلى 500 كما طلبت يا رياض
let score = 0;

// مصفوفة الصور (تأكد أن أسماء الصور صحيحة في مجلدك)
// يمكنك إضافة أسماء صورك هنا (img1.png, img2.jpg .. إلخ)
const gameImages = [
    'img1.jpg', 'img2.jpg', 'img3.jpg', 'img4.jpg', 
    'img5.jpg', 'img6.jpg', 'img7.jpg', 'img8.jpg'
];

// دالة تشغيل المرحلة - تم تعديلها لتظهر الصور دائماً حتى المرحلة 20
function loadLevel(currentLevel) {
    console.log("المرحلة الحالية: " + currentLevel);
    
    // حل مشكلة اختفاء الصور: 
    // نستخدم العمليات الحسابية لضمان اختيار صورة حتى لو تجاوزنا عدد الصور المتاحة
    const gameBoard = document.getElementById('game-board');
    gameBoard.innerHTML = ''; // تنظيف اللوحة

    // لنفترض أن كل مرحلة تظهر 4 مربعات صور
    for (let i = 0; i < 4; i++) {
        let imgIndex = (currentLevel + i) % gameImages.length; // هذه الحركة تضمن عدم اختفاء الصور
        let imgTag = document.createElement('img');
        imgTag.src = 'images/' + gameImages[imgIndex]; // تأكد من مسار المجلد
        imgTag.alt = "Photo";
        imgTag.className = "game-img";
        
        // إذا لم تجد الصورة، نضع لوناً احتياطياً لكي لا يظهر مربع أسود
        imgTag.onerror = function() {
            this.src = 'https://via.placeholder.com/150?text=Image+Level+' + currentLevel;
        };
        
        gameBoard.appendChild(imgTag);
    }
    
    // تحديث واجهة الوقود والمستوى
    document.getElementById('fuel-display').innerText = `الوقود: ${fuel}`;
    document.getElementById('level-display').innerText = `المرحلة: ${currentLevel}`;
}

// دالة الانتقال للمرحلة التالية
function nextLevel() {
    if (fuel > 0) {
        level++;
        fuel -= 10; // خصم وقود عند الانتقال
        loadLevel(level);
    } else {
        alert("انتهى الوقود! حاول مرة أخرى.");
        resetGame();
    }
}

// دالة إعادة اللعبة
function resetGame() {
    level = 1;
    fuel = 500;
    loadLevel(level);
}

// تشغيل اللعبة لأول مرة
window.onload = () => {
    loadLevel(level);
};
